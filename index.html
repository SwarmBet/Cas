<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>SwarmBet - Elite Casino Universe</title>
    <style>
        :root {
            --gold: #ffb300;
            --dark-gold: #cc8e00;
            --bg: #000000;
            --card-bg: #0a0d0a;
            --border: #1a1f1a;
            --green: #27ae60;
            --red: #e74c3c;
            --blue: #3498db;
            --text: #ffffff;
            --star-gold: #f1c40f;
            --black-cell: #1a1a1a;
        }

        body {
            background-color: var(--bg);
            background-image: radial-gradient(circle at center, #051a05 0%, #000 100%);
            color: var(--text);
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* AUTH */
        #auth-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.98); display: flex; align-items: center; justify-content: center; z-index: 9999; }
        .auth-card { background: var(--card-bg); border: 2px solid var(--gold); padding: 50px; border-radius: 20px; text-align: center; }
        .auth-input { width: 100%; padding: 15px; margin: 10px 0; background: #000; border: 1px solid var(--border); color: var(--gold); border-radius: 8px; }

        /* NAV */
        .navbar { display: flex; justify-content: space-between; align-items: center; padding: 15px 60px; background: rgba(0,0,0,0.9); border-bottom: 3px solid var(--gold); position: sticky; top: 0; z-index: 1000; }
        .logo { font-size: 30px; font-weight: 900; color: var(--gold); cursor: pointer; letter-spacing: 2px; }
        .nav-links span { cursor: pointer; margin: 0 20px; font-weight: bold; color: #888; text-transform: uppercase; }
        .balance-tag { background: #111; padding: 10px 20px; border-radius: 50px; border: 1px solid #222; color: var(--gold); font-weight: 900; }

        /* GRID */
        .container { width: 1100px; margin: 40px auto; flex: 1; }
        .games-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }
        .game-card { background: #080a08; border: 1px solid #151a15; border-radius: 20px; padding: 30px 15px; text-align: center; cursor: pointer; transition: 0.3s; }
        .game-card:hover { border-color: var(--gold); transform: translateY(-5px); }
        .game-icon { font-size: 40px; display: block; margin-bottom: 10px; }

        /* ROULETTE */
        .r-viewport { background: #0d0d0d; border-radius: 15px; padding: 25px; border: 1px solid #222; }
        .r-slider-box { width: 100%; height: 120px; background: #0a0a0a; border-radius: 10px; position: relative; overflow: hidden; border: 1px solid #222; }
        .r-slider-track { display: flex; position: absolute; left: 0; }
        .r-item { min-width: 80px; height: 100px; display: flex; align-items: center; justify-content: center; font-size: 24px; font-weight: 900; border: 1px solid #000; margin-top: 10px; }
        .r-marker { position: absolute; left: 50%; top: 0; bottom: 0; width: 4px; background: var(--gold); transform: translateX(-50%); z-index: 10; box-shadow: 0 0 15px var(--gold); }
        .r-table { display: grid; grid-template-columns: 80px repeat(12, 1fr); gap: 8px; margin-top: 20px; }
        .r-cell { height: 60px; background: var(--black-cell); border: 1px solid #333; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-weight: bold; cursor: pointer; position: relative; }
        .r-cell.red { background: var(--red); }
        .r-cell.zero { grid-row: span 3; background: var(--green); height: auto; }
        .chip { position: absolute; width: 30px; height: 30px; background: radial-gradient(circle, #fff, var(--gold)); border-radius: 50%; color: #000; font-size: 10px; display: flex; align-items: center; justify-content: center; font-weight: 900; }

        /* MINES */
        .m-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; width: 400px; margin: 20px auto; }
        .m-tile { height: 75px; background: #1a1a1a; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 30px; cursor: pointer; border-bottom: 4px solid #000; }

        .hidden { display: none !important; }
        .btn-main { background: var(--gold); color: black; border: none; padding: 15px 45px; border-radius: 10px; font-weight: 900; cursor: pointer; }
    </style>
</head>
<body>

    <div id="auth-overlay">
        <div class="auth-card">
            <h2>SWARMBET LOGIN</h2>
            <input type="text" id="in-user" class="auth-input" placeholder="Username">
            <button class="btn-main" onclick="handleAuth()">VSTOUPIT</button>
        </div>
    </div>

    <nav class="navbar hidden" id="main-nav">
        <div class="logo" onclick="showPage('home')">SWARMBET</div>
        <div class="nav-links">
            <span onclick="showPage('games')">Games</span>
            <span onclick="window.open('#')">Discord</span>
        </div>
        <div class="balance-tag">‚òÖ <span id="balance-val">500</span></div>
    </nav>

    <div class="container hidden" id="main-container">
        <div id="page-home" class="hidden" style="text-align:center; padding:100px 0;">
            <h1>V√≠tej v SWARMBET</h1>
            <button class="btn-main" onclick="showPage('games')">HR√ÅT TEƒé</button>
        </div>

        <div id="page-games">
            <h2 style="border-left: 4px solid var(--blue); padding-left: 15px;">CLASSICS</h2>
            <div class="games-grid">
                <div class="game-card" onclick="openGame('coinflip')"><span class="game-icon">ü™ô</span><strong>Coin Flip</strong></div>
                <div class="game-card" onclick="openGame('dice')"><span class="game-icon">üé≤</span><strong>Dice Roll</strong></div>
                <div class="game-card" onclick="openGame('blackjack')"><span class="game-icon">üÉè</span><strong>Blackjack</strong></div>
                <div class="game-card" onclick="openGame('crash')"><span class="game-icon">üöÄ</span><strong>Crash</strong></div>
                <div class="game-card" onclick="openGame('keno')"><span class="game-icon">‚ñ¶</span><strong>Keno</strong></div>
                <div class="game-card" onclick="openGame('mines')"><span class="game-icon">üí£</span><strong>Mines</strong></div>
                <div class="game-card" onclick="openGame('roulette')"><span class="game-icon">üîò</span><strong>Roulette</strong></div>
                <div class="game-card" onclick="openGame('baccarat')"><span class="game-icon">üíé</span><strong>Baccarat</strong></div>
            </div>
        </div>

        <div id="page-viewport" class="hidden" style="background:var(--card-bg); padding:40px; border-radius:20px;">
            <div id="game-render-area"></div>
        </div>
    </div>

    <script>
        let balance = 500;
        let activeUser = null;
        let rBets = {};
        const redNums = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];
        const rOrder = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];

        window.onload = () => {
            const u = localStorage.getItem('swarm_user');
            if(u) { activeUser = u; balance = parseFloat(localStorage.getItem('swarm_bal_'+u)) || 500; initApp(); }
        };

        function handleAuth() {
            activeUser = document.getElementById('in-user').value;
            if(!activeUser) return;
            localStorage.setItem('swarm_user', activeUser);
            balance = parseFloat(localStorage.getItem('swarm_bal_'+activeUser)) || 500;
            initApp();
        }

        function initApp() {
            document.getElementById('auth-overlay').classList.add('hidden');
            document.getElementById('main-nav').classList.remove('hidden');
            document.getElementById('main-container').classList.remove('hidden');
            updateUI();
        }

        function updateUI() {
            document.getElementById('balance-val').innerText = balance.toFixed(0);
            localStorage.setItem('swarm_bal_'+activeUser, balance);
        }

        function showPage(p) {
            ['page-home', 'page-games', 'page-viewport'].forEach(id => document.getElementById(id).classList.add('hidden'));
            document.getElementById('page-'+p).classList.remove('hidden');
        }

        function openGame(g) {
            showPage('viewport');
            const area = document.getElementById('game-render-area');
            if(g === 'roulette') buildRoulette(area);
            else if(g === 'mines') buildMines(area);
            else area.innerHTML = `<h2>${g.toUpperCase()}</h2><p>Hra se p≈ôipravuje...</p><button class="btn-main" onclick="showPage('games')">Zpƒõt</button>`;
        }

        function buildRoulette(el) {
            rBets = {};
            el.innerHTML = `
                <div class="r-viewport">
                    <div class="r-slider-box"><div class="r-marker"></div><div class="r-slider-track" id="r-track"></div></div>
                    <div class="r-table" id="r-grid"></div>
                    <div style="margin-top:20px; text-align:center;">
                        <input type="number" id="r-amt" style="padding:10px; width:80px;" value="10">
                        <button class="btn-main" onclick="spinRoulette()">SPIN</button>
                    </div>
                </div>`;
            let h = `<div class="r-cell zero" onclick="placeBet(0)">0<div id="chip-0"></div></div>`;
            for(let c=1; c<=12; c++) {
                for(let r=3; r>=1; r--) {
                    let n = (c-1)*3 + r;
                    h += `<div class="r-cell ${redNums.includes(n)?'red':''}" onclick="placeBet(${n})">${n}<div id="chip-${n}"></div></div>`;
                }
            }
            document.getElementById('r-grid').innerHTML = h;
        }

        function placeBet(n) {
            let a = parseInt(document.getElementById('r-amt').value);
            if(balance < a) return;
            balance -= a; updateUI();
            rBets[n] = (rBets[n] || 0) + a;
            document.getElementById('chip-'+n).className = 'chip';
            document.getElementById('chip-'+n).innerText = rBets[n];
        }

        function spinRoulette() {
            const win = rOrder[Math.floor(Math.random()*37)];
            const track = document.getElementById('r-track');
            let content = "";
            for(let i=0; i<10; i++) rOrder.forEach(n => {
                let clr = n===0?'var(--green)':(redNums.includes(n)?'var(--red)':'#111');
                content += `<div class="r-item" style="background:${clr}">${n}</div>`;
            });
            track.innerHTML = content;
            track.style.transition = 'none'; track.style.left = '0';
            setTimeout(() => {
                track.style.transition = '4s cubic-bezier(0.1, 0, 0.1, 1)';
                track.style.left = `-${(37*5 + rOrder.indexOf(win))*80 - 500}px`;
            }, 50);
            setTimeout(() => {
                let p = (rBets[win] || 0) * 36;
                balance += p; updateUI();
                alert("Padlo: " + win + (p>0?"! V√Ωhra: "+p:""));
                openGame('roulette');
            }, 4500);
        }

        function buildMines(el) {
            el.innerHTML = `<h2>MINES</h2><div class="m-grid" id="m-grid"></div><button class="btn-main" onclick="openGame('mines')">RESET</button>`;
            for(let i=0; i<25; i++) {
                let t = document.createElement('div');
                t.className = 'm-tile';
                t.onclick = () => { if(t.innerText) return; let s = Math.random()>0.2; t.innerText = s?"‚òÖ":"üí£"; t.style.color = s?"var(--star-gold)":"var(--red)"; };
                document.getElementById('m-grid').appendChild(t);
            }
        }
    </script>
</body>
</html>
